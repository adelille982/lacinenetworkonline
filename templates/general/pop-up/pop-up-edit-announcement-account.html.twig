<div class="popup-announcement-edit"
  id="popup-edit-announcement-{{ announcement.id }}"
  style="display: none;">
  <div class="popup-content">
    <button class="close-popup"
      onclick="closeEditAnnouncementPopup({{ announcement.id }})">
      &times;
    </button>
    <h3>
      Modifier l'annonce
    </h3>

    <form method="post" action="{{ path('app_account_edit_announcement', { id: announcement.id }) }}" class="form-announcement-card-account">
      <input type="hidden"
        name="_token"a
        value="{{ csrf_token('edit_announcement_' ~ announcement.id) }}" />

      <div class="form-announcement-account-content">
        <div class="form-flex-container-account">
          <div class="form-announcement-account-input">
            <label>Vous recrutez / êtes disponible :</label>
            <select name="ad-type-account"
              class="input-form-announcement-account"
              required>
              <option value="">
                Choix
              </option>
              <option value="Recrute"
                {{
                announcement.typeAnnouncement == 'Recrute'
                  ? 'selected'
                  : ''
                }}>
                Recrute
              </option>
              <option value="Disponible"
                {{
                announcement.typeAnnouncement == 'Disponible'
                  ? 'selected'
                  : ''
                }}>
                Disponible
              </option>
            </select>
          </div>
          <div class="form-announcement-account-input">
            <label>Métier recherché / proposé :</label>
            <select name="job-search-account"
              class="input-form-announcement-account"
              required>
              {% for sub in subCategories %}
                <option value="{{ sub.id }}"
                  {{
                  sub.id == announcement.subCategoryAnnouncement.id
                    ? 'selected'
                    : ''
                  }}>
                  {{ sub.nameSubCategory }}
                </option>
              {% endfor %}
            </select>
          </div>
        </div>

        <div class="form-announcement-account-input">
          <label>Mission rémunérée ?</label>
          <select name="is-paid-account"
            class="input-form-announcement-account"
            required>
            <option value="">
              Choix
            </option>
            <option value="oui"
              {{ announcement.remuneration ? 'selected' : '' }}>
              Oui
            </option>
            <option value="non"
              {{ not announcement.remuneration ? 'selected' : '' }}>
              Non
            </option>
          </select>
        </div>

        <div class="form-flex-container-account">
                    <div class="form-announcement-account-input">
                        <label for="department-display-account">Département:</label>
                        <div class="department-list-container-announcement-account">
                        <input type="text"
                            id="department-display-edit-{{ announcement.id }}"
                            class="input-form-announcement-account department-search-input-announcement-account"
                            placeholder="Rechercher un département..."
                            autocomplete="off"
                            required>

                        <input type="hidden"
                            name="department-account"
                            id="department-account-hidden-edit-{{ announcement.id }}"
                            value="{{ announcement.departmentAnnouncement }}">
                            <ul class="department-list-announcement-account">
                                <li><a href="#" data-department="01">Ain (01)</a></li>
                                <li><a href="#" data-department="02">Aisne (02)</a></li>
                                <li><a href="#" data-department="03">Allier (03)</a></li>
                                <li><a href="#" data-department="04">Alpes-de-Haute-Provence (04)</a></li>
                                <li><a href="#" data-department="05">Hautes-Alpes (05)</a></li>
                                <li><a href="#" data-department="06">Alpes-Maritimes (06)</a></li>
                                <li><a href="#" data-department="07">Ardèche (07)</a></li>
                                <li><a href="#" data-department="08">Ardennes (08)</a></li>
                                <li><a href="#" data-department="09">Ariège (09)</a></li>
                                <li><a href="#" data-department="10">Aube (10)</a></li>
                                <li><a href="#" data-department="11">Aude (11)</a></li>
                                <li><a href="#" data-department="12">Aveyron (12)</a></li>
                                <li><a href="#" data-department="13">Bouches-du-Rhône (13)</a></li>
                                <li><a href="#" data-department="14">Calvados (14)</a></li>
                                <li><a href="#" data-department="15">Cantal (15)</a></li>
                                <li><a href="#" data-department="16">Charente (16)</a></li>
                                <li><a href="#" data-department="17">Charente-Maritime (17)</a></li>
                                <li><a href="#" data-department="18">Cher (18)</a></li>
                                <li><a href="#" data-department="19">Corrèze (19)</a></li>
                                <li><a href="#" data-department="2A">Corse-du-Sud (2A)</a></li>
                                <li><a href="#" data-department="2B">Haute-Corse (2B)</a></li>
                                <li><a href="#" data-department="21">Côte-d’Or (21)</a></li>
                                <li><a href="#" data-department="22">Côtes-d’Armor (22)</a></li>
                                <li><a href="#" data-department="23">Creuse (23)</a></li>
                                <li><a href="#" data-department="24">Dordogne (24)</a></li>
                                <li><a href="#" data-department="25">Doubs (25)</a></li>
                                <li><a href="#" data-department="26">Drôme (26)</a></li>
                                <li><a href="#" data-department="27">Eure (27)</a></li>
                                <li><a href="#" data-department="28">Eure-et-Loir (28)</a></li>
                                <li><a href="#" data-department="29">Finistère (29)</a></li>
                                <li><a href="#" data-department="30">Gard (30)</a></li>
                                <li><a href="#" data-department="31">Haute-Garonne (31)</a></li>
                                <li><a href="#" data-department="32">Gers (32)</a></li>
                                <li><a href="#" data-department="33">Gironde (33)</a></li>
                                <li><a href="#" data-department="34">Hérault (34)</a></li>
                                <li><a href="#" data-department="35">Ille-et-Vilaine (35)</a></li>
                                <li><a href="#" data-department="36">Indre (36)</a></li>
                                <li><a href="#" data-department="37">Indre-et-Loire (37)</a></li>
                                <li><a href="#" data-department="38">Isère (38)</a></li>
                                <li><a href="#" data-department="39">Jura (39)</a></li>
                                <li><a href="#" data-department="40">Landes (40)</a></li>
                                <li><a href="#" data-department="41">Loir-et-Cher (41)</a></li>
                                <li><a href="#" data-department="42">Loire (42)</a></li>
                                <li><a href="#" data-department="43">Haute-Loire (43)</a></li>
                                <li><a href="#" data-department="44">Loire-Atlantique (44)</a></li>
                                <li><a href="#" data-department="45">Loiret (45)</a></li>
                                <li><a href="#" data-department="46">Lot (46)</a></li>
                                <li><a href="#" data-department="47">Lot-et-Garonne (47)</a></li>
                                <li><a href="#" data-department="48">Lozère (48)</a></li>
                                <li><a href="#" data-department="49">Maine-et-Loire (49)</a></li>
                                <li><a href="#" data-department="50">Manche (50)</a></li>
                                <li><a href="#" data-department="51">Marne (51)</a></li>
                                <li><a href="#" data-department="52">Haute-Marne (52)</a></li>
                                <li><a href="#" data-department="53">Mayenne (53)</a></li>
                                <li><a href="#" data-department="54">Meurthe-et-Moselle (54)</a></li>
                                <li><a href="#" data-department="55">Meuse (55)</a></li>
                                <li><a href="#" data-department="56">Morbihan (56)</a></li>
                                <li><a href="#" data-department="57">Moselle (57)</a></li>
                                <li><a href="#" data-department="58">Nièvre (58)</a></li>
                                <li><a href="#" data-department="59">Nord (59)</a></li>
                                <li><a href="#" data-department="60">Oise (60)</a></li>
                                <li><a href="#" data-department="61">Orne (61)</a></li>
                                <li><a href="#" data-department="62">Pas-de-Calais (62)</a></li>
                                <li><a href="#" data-department="63">Puy-de-Dôme (63)</a></li>
                                <li><a href="#" data-department="64">Pyrénées-Atlantiques (64)</a></li>
                                <li><a href="#" data-department="65">Hautes-Pyrénées (65)</a></li>
                                <li><a href="#" data-department="66">Pyrénées-Orientales (66)</a></li>
                                <li><a href="#" data-department="67">Bas-Rhin (67)</a></li>
                                <li><a href="#" data-department="68">Haut-Rhin (68)</a></li>
                                <li><a href="#" data-department="69">Rhône (69)</a></li>
                                <li><a href="#" data-department="70">Haute-Saône (70)</a></li>
                                <li><a href="#" data-department="71">Saône-et-Loire (71)</a></li>
                                <li><a href="#" data-department="72">Sarthe (72)</a></li>
                                <li><a href="#" data-department="73">Savoie (73)</a></li>
                                <li><a href="#" data-department="74">Haute-Savoie (74)</a></li>
                                <li><a href="#" data-department="75">Paris (75)</a></li>
                                <li><a href="#" data-department="76">Seine-Maritime (76)</a></li>
                                <li><a href="#" data-department="77">Seine-et-Marne (77)</a></li>
                                <li><a href="#" data-department="78">Yvelines (78)</a></li>
                                <li><a href="#" data-department="79">Deux-Sèvres (79)</a></li>
                                <li><a href="#" data-department="80">Somme (80)</a></li>
                                <li><a href="#" data-department="81">Tarn (81)</a></li>
                                <li><a href="#" data-department="82">Tarn-et-Garonne (82)</a></li>
                                <li><a href="#" data-department="83">Var (83)</a></li>
                                <li><a href="#" data-department="84">Vaucluse (84)</a></li>
                                <li><a href="#" data-department="85">Vendée (85)</a></li>
                                <li><a href="#" data-department="86">Vienne (86)</a></li>
                                <li><a href="#" data-department="87">Haute-Vienne (87)</a></li>
                                <li><a href="#" data-department="88">Vosges (88)</a></li>
                                <li><a href="#" data-department="89">Yonne (89)</a></li>
                                <li><a href="#" data-department="90">Territoire de Belfort (90)</a></li>
                                <li><a href="#" data-department="91">Essonne (91)</a></li>
                                <li><a href="#" data-department="92">Hauts-de-Seine (92)</a></li>
                                <li><a href="#" data-department="93">Seine-Saint-Denis (93)</a></li>
                                <li><a href="#" data-department="94">Val-de-Marne (94)</a></li>
                                <li><a href="#" data-department="95">Val-d’Oise (95)</a></li>
                                <li><a href="#" data-department="971">Guadeloupe (971)</a></li>
                                <li><a href="#" data-department="972">Martinique (972)</a></li>
                                <li><a href="#" data-department="973">Guyane (973)</a></li>
                                <li><a href="#" data-department="974">La Réunion (974)</a></li>
                                <li><a href="#" data-department="976">Mayotte (976)</a></li>
                            </ul>
                        </div>
                    </div>

            <div class="form-announcement-account-input">
                <label>Ville :</label>
                <input type="text"
                name="city-account"
                class="input-form-announcement-account"
                value="{{ announcement.cityAnnouncement }}"
                required />
            </div>
        </div>

        <div class="form-announcement-account-input">
          <label>Description :</label>
<textarea name="short-description-account"
          class="input-form-announcement-account"
          rows="4"
          required>{{ announcement.textAnnouncement }}</textarea>
        </div>

        <div class="form-flex-container-account">
          <div class="form-announcement-account-input">
            <label>Date de début :</label>
            <input type="date"
              name="availability-account"
              class="input-form-announcement-account"
              value="{{ announcement.availabilityAnnouncement|date('Y-m-d') }}"
              min="{{ now|date('Y-m-d') }}"
              required />
          </div>
          <div class="form-announcement-account-input">
            <label>Date de fin :</label>
            <input type="date"
              name="ad-expiration-account"
              class="input-form-announcement-account"
              value="{{ announcement.expiryAnnouncement|date('Y-m-d') }}"
              min="{{ announcement.availabilityAnnouncement
                |date_modify('+1 day')
                |date('Y-m-d') }}"
              required />
          </div>
        </div>

        <div class="form-announcement-account-input">
          <label>Lien pour postuler :</label>
          <input type="url"
            name="useful-link-account"
            class="input-form-announcement-account"
            value="{{ announcement.linkAnnouncement }}"
            pattern="https://docs\.google\.com/forms/d/e/.+/viewform.*" 
            title="Veuillez entrer un lien Google Form valide (ex: https://docs.google.com/forms/etc...)" 
            placeholder="Uniquement des liens Google Form (ex: https://docs.google.com/forms/etc...)" 
            required />
        </div>
      </div>

      <div class="form-announcement-account-btn">
        <button type="submit" class="btn-form-announcement-account">
          ENREGISTRER LES MODIFICATIONS
        </button>
      </div>
    </form>
  </div>
</div>
